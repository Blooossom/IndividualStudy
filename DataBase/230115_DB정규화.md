# DB 정규화
<br>
<aside>
<h2>💡 정규화란?</h2>

</aside>

- 테이블 간에 중복된 데이터를 허용하지 않는 것
- 이를 통해 무결성을 유지할 수 있으며,  DB의 저장 용량 역시 줄일 수 있음
- 이러한 테이블을 분해하는 정규화 단계가 정의되어 있는데,
- 테이블을 어떻게 분해하는지에 따라 정규화 단계가 달라짐
- 정규화의 목적은 주로
- 불필요한 데이터를 제거하고, 데이터 저장을 논리적으로 하기 위함임
<br>
<aside>
<h2>💡 제 1 정규화</h2>

</aside>

- 테이블의 컬럼이 원자값(하나의 값)을 갖도록 테이블을 분해하는 것

| 이름 | 여행지 |
| --- | --- |
| 홍길동 | 영국 |
| 김철수 | 미국 |
| 김민수 | 일본, 중국 |
| 김영희 | 캐나다 |
- 여기서 김민수는 여러 곳의 여행지를 갈 예정이기 때문에 제 1정규화를 만족하지 못함
- 그렇기 때문에 이를 제1정규화하여 분해할 수 있음

| 이름 | 여행지 |
| --- | --- |
| 홍길동 | 영국 |
| 김철수 | 미국 |
| 김민수 | 일본 |
| 김민수 | 중국 |
| 김영희 | 캐나다 |
<br>
<aside>
<h2>💡 제 2 정규화</h2>

</aside>

- 제 1 정규화를 진행한 테이블에 대해 완전 함수 종속을 만족하도록 테이블을 분해하는 것
- 완전 함수 종속? 기본키의 부분 집합이 결정자가 되어선 안되는 것을 의미

| 학생번호 | 강좌이름 | 강의실 | 성적 |
| --- | --- | --- | --- |
| 001 | Java | 10층 C강의실 | 80 |
| 002 | Java | 10층 C강의실 | 90 |
| 003 | Spring | 11층 F강의실 | 80 |
| 004 | DB | 12층 D강의실 | 100 |
- 위 테이블의 기본키는 (학생번호, 강좌이름)으로 복합키임
- 그리고 이 기본키는 성적을 결정하고 있음
- 그런데 여기서 강의실은 기본키의 부분집합인 강좌이름에 의해 결정될 수 있음
- 즉 기본키의 부분키인 강좌이름이 결정자이기 때문에 위의 테이블의 경우 다음과 같이 기존의 테이블에서 강의실을 분해하여 별도의 테이블로 관리하여 제 2 정규형을 만족시킬 수 있음

| 학생번호 | 강좌이름 | 성적 |
| --- | --- | --- |
| 001 | Java | 80 |
| 002 | Java | 90 |
| 003 | Spring | 80 |
| 004 | DB | 100 |

| 강좌이름 | 강의실 |
| --- | --- |
| Java | 10층 C강의실 |
| Java | 10층 C강의실 |
| Spring | 11층 F강의실 |
| DB | 12층 D강의실 |
<br>
<aside>
<h2>💡 제 3 정규화</h2>

</aside>

- 제 2 정규화를 진행한 테이블에 대해 이행적 종속을 없애도록 테이블을 분해하는 것
- 이행적 종속? A → B, B → C가 성립할 때 A → C가 성립되는 것을 의미

| 학생번호 | 강좌이름 | 수업 시간 |
| --- | --- | --- |
| 001 | Java | 0900~1200 |
| 002 | Java | 0900~1200 |
| 003 | Spring | 1300~1500 |
| 004 | DB | 1800~2000 |
- 여기서 학생 번호는 강좌이름을 결정하고 있고, 강좌이름은 수업시간을 결정하고 있음
- 때문에 이를 학생번호-강좌이름 테이블과 강좌이름-수업시간 테이블로 분해 해야함
- 이행적 종속을 제거하는 이유는 간단함
- 예를 들어 001번 학생이 수강하는 강좌가 DB로 변경되었다고 가정할 때
- 이행적 종속이 존재한다면 001번 학생은 DB 수업을 09시부터 12시까지 수강하는 테이블이 됨
- 물론 강좌이름에 맞게 수업시간을 다시 변경할 수 있으나, 이러한 번거로움을 해결하기 위해 제 3 정규화를 하는 것

| 학생번호 | 강좌이름 |
| --- | --- |
| 001 | Java |
| 002 | Java |
| 003 | Spring |
| 004 | DB |

| 강좌이름 | 수업 시간 |
| --- | --- |
| Java | 0900~1200 |
| Spring | 1300~1500 |
| DB | 1800~2000 |
<br>
<aside>
<h2>💡 BCNF 정규화</h2>

</aside>

- 제 3 정규화를 진행한 테이블에 대해 모든 결정자가 후보키가 되도록 테이블을 분해하는 것
<br>
<aside>
<h2>💡 참조</h2>

</aside>

[[Database] 정규화(Normalization) 쉽게 이해하기](https://mangkyu.tistory.com/110)
